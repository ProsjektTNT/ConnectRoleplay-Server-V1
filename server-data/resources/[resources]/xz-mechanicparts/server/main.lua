
--Engine Parts
XZCore.Functions.CreateUseableItem("engine0", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:E0", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("engine1", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:E1", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("engine2", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:E2", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("engine3", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:E3", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("engine4", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:E4", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

--brakes

XZCore.Functions.CreateUseableItem("brake0", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:B0", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("brake1", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:B1", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("brake2", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:B2", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("brake3", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:B3", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

--Transmission

XZCore.Functions.CreateUseableItem("transmission0", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:T0", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("transmission1", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:T1", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("transmission2", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:T2", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("transmission3", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:T3", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

--Suspension
XZCore.Functions.CreateUseableItem("suspension0", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:S0", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("suspension1", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:S1", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("suspension2", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:S2", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("suspension3", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:S3", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("suspension4", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:S4", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)


--Turbo
XZCore.Functions.CreateUseableItem("turbo0", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:Turbo0", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)

XZCore.Functions.CreateUseableItem("turbo1", function(source, item)
    
    local Player = XZCore.Functions.GetPlayer(source)
	if Player.Functions.GetItemBySlot(item.slot) ~= nil then
        TriggerClientEvent("xz-mechanicparts:Turbo1", source)
    else
        TriggerClientEvent('XZCore:Notify', source, "Unknown Error", "error")
    end
end)



RegisterServerEvent("updateVehicle", function(plate, vehicleMods)
    local src = source
    if IsVehicleOwned(myCar.plate) then
        exports.oxmysql:executeSync('UPDATE `xzvehicles` SET `props` = ? WHERE `plate` = ?', { json.encode(vehicleMods), plate })
    end
end)

function IsVehicleOwned(plate)
    local retval = false
    local result = exports.oxmysql:scalarSync('SELECT plate FROM player_vehicles WHERE plate = ?', {plate})
    if result then
        retval = true
    end
    return retval
end





